// Schema Prisma temporal para SQLite
// Este archivo reemplaza temporalmente el schema.prisma para usar SQLite

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model usuarios {
  id       Int    @id @default(autoincrement())
  nombre   String
  email    String @unique
  password String
  role     String @default("user")
  
  // Relaciones
  documentos documentos[]
  
  @@map("usuarios")
}

model tipos_documentos {
  id   Int    @id @default(autoincrement())
  tipo String
  
  // Relaciones
  documentos documentos[]
  
  @@map("tipos_documentos")
}

model documentos {
  id           Int      @id @default(autoincrement())
  nombre       String
  descripcion  String?
  ruta         String
  fecha_subida DateTime @default(now())
  usuario_id   Int
  tipo_id      Int
  
  // Relaciones
  usuarios         usuarios         @relation(fields: [usuario_id], references: [id])
  tipos_documentos tipos_documentos @relation(fields: [tipo_id], references: [id])
  
  @@map("documentos")
}
